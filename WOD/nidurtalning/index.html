<!DOCTYPE html>
<html lang="is" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ís.is — Niðurtalning</title>

  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="icon" href="/favicon.png" sizes="32x32">
  <link rel="icon" href="/favicon.png" sizes="16x16">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <meta name="theme-color" content="#ffffff" id="metaThemeColor">

  <!-- prefs.js must load BEFORE we call prefs.* (avoid flash) -->
  <script src="/assets/js/prefs.js"></script>
  <script>
    if (window.prefs && typeof prefs.applyThemeFromStorage === "function") {
      prefs.applyThemeFromStorage();
    }
  </script>

  <!-- Shared JS -->
  <script defer src="/assets/js/utils.js"></script>
  <script defer src="/assets/js/site.js"></script>
  <script defer src="/assets/js/i18n.js"></script>
  <script defer src="/assets/js/theme.js"></script>

  <!-- Page CSS -->
  <link rel="stylesheet" href="/assets/css/pages/nidurtalning.css">

  <!-- Page JS -->
  <script defer src="/assets/js/pages/nidurtalning.js"></script>
</head>

<body>
<header>
  <div class="hdr">
    <a class="back" href="/WOD/">←</a>
    <div class="title">Niðurtalning</div>
    <div class="hdr-right">
      <button class="icon-btn" id="settingsBtn" aria-label="Stillingar">⚙︎</button>
      <button class="icon-btn" id="themeBtn" aria-label="Þema">◐</button>
    </div>
  </div>
</header>

<main>
  <div class="card">
    <div class="timer">
      <div class="big" id="time">05:00</div>

      <div class="meta">
        <span class="pill" id="state">Tilbúið</span>
      </div>
    </div>

    <!-- SPIN WHEELS -->
    <div class="wheels" aria-label="Stilla tíma">
      <div class="wheel" data-unit="h">
        <button class="spin" data-action="up" aria-label="Hækka klukkustundir">▲</button>
        <div class="wheel-val">
          <div class="wheel-num" id="wH">00</div>
          <div class="wheel-lbl">klst</div>
        </div>
        <button class="spin" data-action="down" aria-label="Lækka klukkustundir">▼</button>
      </div>

      <div class="wheel" data-unit="m">
        <button class="spin" data-action="up" aria-label="Hækka mínútur">▲</button>
        <div class="wheel-val">
          <div class="wheel-num" id="wM">05</div>
          <div class="wheel-lbl">mín</div>
        </div>
        <button class="spin" data-action="down" aria-label="Lækka mínútur">▼</button>
      </div>

      <div class="wheel" data-unit="s">
        <button class="spin" data-action="up" aria-label="Hækka sekúndur">▲</button>
        <div class="wheel-val">
          <div class="wheel-num" id="wS">00</div>
          <div class="wheel-lbl">sek</div>
        </div>
        <button class="spin" data-action="down" aria-label="Lækka sekúndur">▼</button>
      </div>
    </div>

    <div class="hint">
      <span class="hint-pill" id="hintPrep">Start countdown: af</span>
      <span class="hint-pill" id="hintMs">Millisec: af</span>
    </div>
  </div>
</main>

<div class="controls">
  <div class="controls-inner">
    <button class="btn ghost" id="reset">Endurstilla</button>
    <button class="btn primary" id="start">▶︎ Start</button>
    <button class="btn ghost" id="pause" disabled>⏸︎ Pása</button>
  </div>
</div>

<!-- SETTINGS -->
<div class="overlay" id="settings" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-label="Stillingar">
    <div class="modal-h">
      <b>Stillingar</b>
      <span class="close" id="closeSettings" role="button" tabindex="0" aria-label="Loka">✕</span>
    </div>

    <div class="settings-body">
      <div class="grid3">
        <div>
          <label>Klst</label>
          <input id="hours" type="number" min="0" max="23" value="0" inputmode="numeric">
        </div>
        <div>
          <label>Mín</label>
          <input id="minutes" type="number" min="0" max="59" value="5" inputmode="numeric">
        </div>
        <div>
          <label>Sek</label>
          <input id="seconds" type="number" min="0" max="59" value="0" inputmode="numeric">
        </div>
      </div>

      <div class="row">
        <label class="chk">
          <input id="usePrep" type="checkbox">
          <span>Start countdown (prep)</span>
        </label>
        <div class="mini">
          <label>Prep (sek)</label>
          <input id="prep" type="number" min="0" max="60" value="5" inputmode="numeric">
        </div>
      </div>

      <label class="chk">
        <input id="showMs" type="checkbox">
        <span>Millisec</span>
      </label>

      <div class="row end">
        <button class="btn ghost" id="apply">Vista</button>
      </div>
    </div>
  </div>
</div>

</body>
</html>