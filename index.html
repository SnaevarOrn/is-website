<!DOCTYPE html>
<html lang="is">
<head>
  <meta charset="UTF-8" />
  <title>Giska√∞u √° j√∂klana ‚Äì √≠s.is</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #0a1722;
      --card: #101f2c;
      --accent: #8fd3f4;
      --accent-soft: #b8ecff;
      --text: #e6f4ff;
      --muted: #9bb3c9;
      --error: #ff6b6b;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #18324a 0, var(--bg) 50%, #050b10 100%);
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    .app {
      width: 100%;
      max-width: 960px;
      background: linear-gradient(145deg, rgba(16,31,44,0.96), rgba(7,14,21,0.98));
      border-radius: 18px;
      border: 1px solid rgba(143,211,244,0.25);
      box-shadow:
        0 20px 60px rgba(0,0,0,0.65),
        0 0 40px rgba(143,211,244,0.18);
      padding: 20px 20px 24px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    .title-block { display: flex; flex-direction: column; gap: 2px; }

    h1 {
      font-size: 1.4rem;
      margin: 0;
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }

    .subtitle {
      margin: 0;
      font-size: 0.9rem;
      color: var(--muted);
    }

    .tag {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid rgba(143,211,244,0.4);
      background: radial-gradient(circle at top left, rgba(184,236,255,0.2), rgba(8,20,30,0.9));
      color: var(--accent-soft);
      white-space: nowrap;
    }

    .main {
      display: flex;
      gap: 18px;
      flex-wrap: wrap;
    }

    .map-card {
      flex: 2 1 280px;
      background: radial-gradient(circle at top, rgba(63,120,173,0.18), rgba(9,20,32,0.95));
      border-radius: 16px;
      padding: 12px 16px 16px;
      border: 1px solid rgba(143,211,244,0.28);
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .info-card {
      flex: 1 1 220px;
      background: radial-gradient(circle at top, rgba(143,211,244,0.08), rgba(3,9,15,0.95));
      border-radius: 16px;
      padding: 12px 16px 16px;
      border: 1px solid rgba(143,211,244,0.18);
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .prompt-label {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--muted);
    }

    .prompt-text {
      font-size: 1.1rem;
      font-weight: 600;
      display: flex;
      align-items: baseline;
      gap: 0.4em;
    }

    .prompt-text span.target {
      color: var(--accent-soft);
      text-shadow: 0 0 8px rgba(184,236,255,0.6);
    }

    .prompt-text span.done {
      color: #7ce38b;
      text-shadow: 0 0 8px rgba(124,227,139,0.7);
    }

    .map-wrapper {
      position: relative;
      width: 100%;
      padding-top: 70%;
      border-radius: 14px;
      overflow: hidden;
      background: radial-gradient(circle at center, #1a2938 0, #09131f 55%, #050b12 100%);
      box-shadow:
        inset 0 0 40px rgba(0,0,0,0.7),
        0 0 40px rgba(143,211,244,0.25);
    }

    .map-wrapper svg {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
    }

    .island-outline {
      fill: #101c28;
      stroke: rgba(143,211,244,0.4);
      stroke-width: 1.2;
      filter: drop-shadow(0 0 16px rgba(5,180,255,0.22));
    }

    .glacier {
      fill: #dbe7f2;
      fill-opacity: 0.9;
      stroke: rgba(34,69,103,0.9);
      stroke-width: 0.8;
      cursor: pointer;
      transition:
        fill 1.2s ease,
        fill-opacity 1.2s ease,
        transform 0.3s ease,
        filter 1.2s ease;
    }

    .glacier:hover {
      fill-opacity: 1;
      transform: translateY(-1px);
      filter: drop-shadow(0 0 10px rgba(184,236,255,0.7));
    }

    .glacier.found {
      fill: url(#glacierGradient);
      fill-opacity: 1;
      filter:
        drop-shadow(0 0 18px rgba(143,211,244,0.95))
        drop-shadow(0 0 48px rgba(143,211,244,0.5));
    }

    .glacier.shake {
      animation: shake 0.55s ease;
      transform-origin: center;
    }

    @keyframes shake {
      10% { transform: translateX(-2px); }
      20% { transform: translateX(2px); }
      30% { transform: translateX(-2px); }
      40% { transform: translateX(2px); }
      50% { transform: translateX(-1px); }
      60% { transform: translateX(1px); }
      70% { transform: translateX(0); }
    }

    .status {
      font-size: 0.9rem;
      color: var(--muted);
      min-height: 1.2em;
    }

    .status.ok { color: #7ce38b; }
    .status.err { color: var(--error); }

    .legend-title {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: var(--muted);
    }

    .legend-list {
      list-style: none;
      padding: 0;
      margin: 4px 0 0;
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 0.9rem;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
      color: var(--muted);
    }

    .legend-dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: linear-gradient(135deg, #c6e7ff, #8fd3f4);
      opacity: 0.3;
      transition: opacity 0.4s ease;
    }

    .legend-item.found .legend-dot {
      opacity: 1;
      box-shadow: 0 0 8px rgba(143,211,244,0.8);
    }

    .legend-item span.name { flex: 1; }

    .legend-item span.state {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .legend-item.found span.state { color: #7ce38b; }
    .legend-item:not(.found) span.state { color: var(--muted); }

    .controls {
      margin-top: 8px;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    button {
      border-radius: 999px;
      border: 1px solid rgba(143,211,244,0.6);
      background: radial-gradient(circle at top, rgba(184,236,255,0.22), rgba(2,9,16,0.98));
      color: var(--accent-soft);
      padding: 6px 14px;
      font-size: 0.85rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition:
        background 0.3s ease,
        transform 0.15s ease,
        box-shadow 0.3s ease,
        border-color 0.3s ease;
    }

    button:hover {
      background: radial-gradient(circle at top, rgba(184,236,255,0.32), rgba(3,10,18,0.98));
      box-shadow: 0 0 18px rgba(143,211,244,0.6);
      transform: translateY(-1px);
    }

    button:active {
      transform: translateY(0);
      box-shadow: 0 0 10px rgba(143,211,244,0.4);
    }

    .hint {
      font-size: 0.8rem;
      color: var(--muted);
      margin-top: 2px;
    }

    footer {
      margin-top: 4px;
      font-size: 0.75rem;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
    }

    @media (max-width: 640px) {
      .app { padding: 16px 14px 18px; }
      h1 { font-size: 1.1rem; }
      .prompt-text { font-size: 1rem; }
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="title-block">
        <h1>Giska√∞u √° j√∂klana</h1>
        <p class="subtitle">Smelltu √° r√©ttan j√∂kul √° √çslandskortinu.</p>
      </div>
      <div class="tag">√≠s.is ¬∑ pr√≥t√≥t√Ωpa</div>
    </header>

    <div class="main">
      <section class="map-card">
        <div class="prompt-label">N√∫verandi verkefni</div>
        <div class="prompt-text">
          <span id="prompt-prefix">Finndu:</span>
          <span id="prompt-target" class="target">‚Äî</span>
        </div>

        <div class="map-wrapper">
          <!-- St√≠lf√¶rt √çsland + j√∂klar √° r√©ttum st√∂√∞um -->
          <svg viewBox="0 0 100 70" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="glacierGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#c6e7ff"/>
                <stop offset="50%" stop-color="#8fd3f4"/>
                <stop offset="100%" stop-color="#5aa9dd"/>
              </linearGradient>
            </defs>

            <!-- √çsland -->
            <path
              class="island-outline"
              d="M7,40
                 C6,33 9,24 15,20
                 C21,16 29,13 37,11
                 C45,9 54,9 63,11
                 C71,13 79,16 85,21
                 C90,25 93,31 93,37
                 C93,43 90,50 85,55
                 C79,60 71,64 62,66
                 C53,68 44,68 36,66
                 C27,64 19,60 13,54
                 C9,50 7,45 7,40 Z" />

            <!-- Drangaj√∂kull ‚Äì nor√∞vestur -->
            <path
              class="glacier"
              data-id="drangajokull"
              d="M21,27
                 C23,25.5 25.8,24.6 28.6,24.7
                 C30.7,24.8 32.9,25.4 34.5,26.5
                 C36.1,27.6 37.1,29.1 37.4,30.6
                 C37.8,32.5 37.3,34.4 36.1,35.9
                 C34.8,37.4 32.8,38.5 30.6,39.2
                 C28.4,39.9 25.9,40.1 23.9,39.7
                 C21.9,39.3 20.2,38.3 19.3,37.1
                 C18.4,35.9 18,34.4 18.2,33
                 C18.5,31.4 19.3,28.8 21,27 Z" />

            <!-- Sn√¶fellsj√∂kull ‚Äì vestan √° nesinu -->
            <path
              class="glacier"
              data-id="snaefellsjokull"
              d="M24,40.5
                 C25.6,39.6 27.8,39.1 29.8,39.2
                 C31.3,39.3 32.8,39.8 34,40.4
                 C35.1,41.1 35.9,42 36.2,43
                 C36.5,44.2 36.3,45.5 35.6,46.6
                 C34.7,48 33.2,49.1 31.4,49.7
                 C29.6,50.3 27.4,50.4 25.7,49.9
                 C24,49.4 22.6,48.5 21.7,47.5
                 C20.9,46.5 20.5,45.3 20.7,44.2
                 C21,42.9 21.9,41.5 23.2,40.8
                 C23.6,40.6 23.8,40.6 24,40.5 Z" />

            <!-- Langj√∂kull ‚Äì mi√∞n-h√°land, a√∞eins vestar -->
            <path
              class="glacier"
              data-id="langjokull"
              d="M37,30.5
                 C40,29.4 43.8,29 47.1,29.4
                 C49.4,29.7 51.7,30.5 53.4,31.8
                 C55,33 56.1,34.7 55.9,36.4
                 C55.7,38.6 54.2,40.7 52.1,42
                 C50.1,43.2 47.3,44 44.5,43.9
                 C41.7,43.8 39,42.8 37.2,41.6
                 C35.6,40.5 34.5,39.1 34.1,37.6
                 C33.7,36 34.1,34.2 35.1,32.9
                 C35.7,32.1 36.3,31.2 37,30.5 Z" />

            <!-- Hofsj√∂kull ‚Äì a√∞eins austar en Langj√∂kull -->
            <path
              class="glacier"
              data-id="hofsjokull"
              d="M47.5,34.5
                 C49.9,33.4 52.6,33.1 55.1,33.5
                 C56.8,33.8 58.4,34.6 59.6,35.6
                 C60.7,36.6 61.4,38.1 61.3,39.5
                 C61.2,41.4 60.1,43.3 58.4,44.6
                 C56.8,45.9 54.4,46.7 52.1,47
                 C49.8,47.3 47.5,46.9 45.8,46.1
                 C44.1,45.3 42.7,44.1 41.9,42.8
                 C41.1,41.5 40.9,40 41.3,38.7
                 C41.7,37.4 42.6,36.1 44,35.2
                 C45.1,34.4 46.3,34.1 47.5,34.5 Z" />

            <!-- Vatnaj√∂kull ‚Äì st√≥r su√∞austur -->
            <path
              class="glacier"
              data-id="vatnajokull"
              d="M56,42.5
                 C61.2,40.5 68.2,39.8 73.8,41.0
                 C77.1,41.8 80.1,43.4 82.1,45.6
                 C83.9,47.7 84.7,50.4 84.1,52.8
                 C83.3,56.1 80.7,59.0 77.1,60.9
                 C73.5,62.8 68.8,63.7 64.3,63.6
                 C59.8,63.5 55.5,62.5 52.1,60.9
                 C49.3,59.6 47.1,57.7 45.9,55.8
                 C44.7,53.9 44.5,51.7 45.3,49.8
                 C46.3,47.5 48.3,45.7 51,44.4
                 C52.7,43.6 54.3,43.1 56,42.5 Z" />

            <!-- M√Ωrdalsj√∂kull ‚Äì su√∞ur, a√∞eins vestar en mi√∞ja Vatnaj√∂kuls -->
            <path
              class="glacier"
              data-id="myrdalsjokull"
              d="M49.5,52.5
                 C52.2,51.4 55.5,51.0 58.4,51.2
                 C60.5,51.3 62.7,51.9 64.4,52.9
                 C66.1,53.9 67.4,55.4 67.8,56.8
                 C68.2,58.2 67.8,59.8 66.9,60.9
                 C65.6,62.6 63.3,63.8 60.7,64.4
                 C58.1,65.0 55.1,65.0 52.6,64.4
                 C50.1,63.8 48.0,62.6 46.6,61.3
                 C45.6,60.3 44.8,59.1 44.5,57.9
                 C44.2,56.7 44.4,55.3 45.2,54.3
                 C46.2,53.1 47.6,53.1 49.5,52.5 Z" />

            <!-- Eyjafjallaj√∂kull ‚Äì vestan vi√∞ M√Ωrdalsj√∂kul -->
            <path
              class="glacier"
              data-id="eyjafjallajokull"
              d="M41.5,52
                 C43.6,51.1 46.2,50.7 48.5,50.9
                 C50.1,51.0 51.7,51.5 52.9,52.1
                 C54.1,52.8 55,53.7 55.4,54.7
                 C55.8,55.9 55.7,57.3 55.0,58.5
                 C54.1,60.1 52.5,61.3 50.6,62.1
                 C48.8,62.8 46.6,63.1 44.7,62.9
                 C42.8,62.7 41.1,62.0 39.8,61.2
                 C38.5,60.3 37.5,59.2 37.1,58.0
                 C36.7,56.8 36.9,55.4 37.7,54.4
                 C38.5,53.4 39.8,52.6 41.5,52 Z" />

          </svg>
        </div>

        <div id="status" class="status"></div>
      </section>

      <aside class="info-card">
        <div class="legend-title">J√∂klar √≠ leiknum</div>
        <ul class="legend-list" id="legend-list">
          <!-- fyllist √≠ JS -->
        </ul>

        <div class="controls">
          <button id="btn-restart" type="button">üîÑ Spila aftur</button>
          <button id="btn-randomize" type="button">üé≤ N√Ω r√∂√∞un</button>
        </div>

        <p class="hint">Smelltu √° j√∂kla til a√∞ finna √æ√°.</p>
      </aside>
    </div>

    <footer>
      <span>Pr√≥t√≥t√Ωpa fyrir √≠s.is ‚Äì j√∂klaleik.</span>
      <span>Engar vafrak√∂kur, bara √≠s.</span>
    </footer>
  </div>

  <script>
    const JOKLAR = [
      { id: "vatnajokull", name: "Vatnaj√∂kull" },
      { id: "langjokull", name: "Langj√∂kull" },
      { id: "hofsjokull", name: "Hofsj√∂kull" },
      { id: "myrdalsjokull", name: "M√Ωrdalsj√∂kull" },
      { id: "eyjafjallajokull", name: "Eyjafjallaj√∂kull" },
      { id: "drangajokull", name: "Drangaj√∂kull" },
      { id: "snaefellsjokull", name: "Sn√¶fellsj√∂kull" }
    ];

    const promptTargetEl = document.getElementById("prompt-target");
    const statusEl = document.getElementById("status");
    const legendListEl = document.getElementById("legend-list");
    const btnRestart = document.getElementById("btn-restart");
    const btnRandom = document.getElementById("btn-randomize");
    const glacierPaths = Array.from(document.querySelectorAll(".glacier"));

    let order = [];
    let currentIndex = 0;
    let done = false;

    function shuffle(arr) {
      const a = arr.slice();
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    function resetGlaciers() {
      glacierPaths.forEach(p => p.classList.remove("found", "shake"));
    }

    function rebuildLegend() {
      legendListEl.innerHTML = "";
      order.forEach((jokull, idx) => {
        const li = document.createElement("li");
        li.className = "legend-item";
        li.dataset.id = jokull.id;
        li.innerHTML = `
          <div class="legend-dot"></div>
          <span class="name">${idx + 1}. ${jokull.name}</span>
          <span class="state">√ìfundinn</span>
        `;
        legendListEl.appendChild(li);
      });
    }

    function updateLegendEntry(id, found) {
      const item = legendListEl.querySelector(`.legend-item[data-id="${id}"]`);
      if (!item) return;
      const stateEl = item.querySelector(".state");
      if (found) {
        item.classList.add("found");
        if (stateEl) stateEl.textContent = "Fundinn";
      } else {
        item.classList.remove("found");
        if (stateEl) stateEl.textContent = "√ìfundinn";
      }
    }

    function setStatus(msg, type = "") {
      statusEl.textContent = msg || "";
      statusEl.classList.remove("ok", "err");
      if (type) statusEl.classList.add(type);
    }

    function setPrompt() {
      if (currentIndex >= order.length) {
        done = true;
        promptTargetEl.textContent = "Allir j√∂klar fundnir!";
        promptTargetEl.classList.remove("target");
        promptTargetEl.classList.add("done");
        setStatus("Vel gert! √û√∫ fannst alla j√∂klana. ‚ú®", "ok");
        return;
      }
      done = false;
      const current = order[currentIndex];
      promptTargetEl.textContent = current.name;
      promptTargetEl.classList.remove("done");
      promptTargetEl.classList.add("target");
      const remaining = order.length - currentIndex;
      setStatus(`J√∂klar eftir: ${remaining}`, "");
    }

    function initOrder(randomize = true) {
      order = randomize ? shuffle(JOKLAR) : JOKLAR.slice();
      currentIndex = 0;
      done = false;
      resetGlaciers();
      rebuildLegend();
      setPrompt();
    }

    function onGlacierClick(e) {
      const target = e.currentTarget;
      const clickedId = target.getAttribute("data-id");
      if (!clickedId || done) return;

      const current = order[currentIndex];
      if (!current) return;

      if (clickedId === current.id) {
        target.classList.remove("shake");
        target.classList.add("found");
        updateLegendEntry(clickedId, true);
        currentIndex++;
        setStatus("R√©tt! üëå", "ok");
        setPrompt();
      } else {
        target.classList.remove("shake");
        void target.offsetWidth; // reset animation
        target.classList.add("shake");
        setStatus("Ekki √æessi j√∂kull ‚Äì pr√≥fa√∞u annan. ‚ùÑÔ∏è", "err");
      }
    }

    glacierPaths.forEach(p => p.addEventListener("click", onGlacierClick));
    btnRestart.addEventListener("click", () => initOrder(false));
    btnRandom.addEventListener("click", () => initOrder(true));

    initOrder(true);
  </script>
</body>
</html>