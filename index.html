<!DOCTYPE html>
<html lang="is">
<head>
  <meta charset="UTF-8" />
  <title>Giska√∞u √° j√∂klana ‚Äì √≠s.is</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #0a1722;
      --card: #101f2c;
      --accent: #8fd3f4;
      --accent-soft: #b8ecff;
      --text: #e6f4ff;
      --muted: #9bb3c9;
      --error: #ff6b6b;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #18324a 0, var(--bg) 50%, #050b10 100%);
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    .app {
      width: 100%;
      max-width: 960px;
      background: linear-gradient(145deg, rgba(16, 31, 44, 0.96), rgba(7, 14, 21, 0.98));
      border-radius: 18px;
      border: 1px solid rgba(143, 211, 244, 0.25);
      box-shadow:
        0 20px 60px rgba(0, 0, 0, 0.65),
        0 0 40px rgba(143, 211, 244, 0.18);
      padding: 20px 20px 24px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    .title-block {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    h1 {
      font-size: 1.4rem;
      margin: 0;
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }

    .subtitle {
      margin: 0;
      font-size: 0.9rem;
      color: var(--muted);
    }

    .tag {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid rgba(143, 211, 244, 0.4);
      background: radial-gradient(circle at top left, rgba(184, 236, 255, 0.2), rgba(8, 20, 30, 0.9));
      color: var(--accent-soft);
      white-space: nowrap;
    }

    .main {
      display: flex;
      gap: 18px;
      flex-wrap: wrap;
    }

    .map-card {
      flex: 2 1 280px;
      background: radial-gradient(circle at top, rgba(63, 120, 173, 0.18), rgba(9, 20, 32, 0.95));
      border-radius: 16px;
      padding: 12px 16px 16px;
      border: 1px solid rgba(143, 211, 244, 0.28);
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .info-card {
      flex: 1 1 220px;
      background: radial-gradient(circle at top, rgba(143, 211, 244, 0.08), rgba(3, 9, 15, 0.95));
      border-radius: 16px;
      padding: 12px 16px 16px;
      border: 1px solid rgba(143, 211, 244, 0.18);
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .prompt-label {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--muted);
    }

    .prompt-text {
      font-size: 1.1rem;
      font-weight: 600;
      display: flex;
      align-items: baseline;
      gap: 0.4em;
    }

    .prompt-text span.target {
      color: var(--accent-soft);
      text-shadow: 0 0 8px rgba(184, 236, 255, 0.6);
    }

    .prompt-text span.done {
      color: #7ce38b;
      text-shadow: 0 0 8px rgba(124, 227, 139, 0.7);
    }

    .map-wrapper {
      position: relative;
      width: 100%;
      padding-top: 70%; /* aspect ratio */
      border-radius: 14px;
      overflow: hidden;
      background: radial-gradient(circle at center, #1a2938 0, #09131f 55%, #050b12 100%);
      box-shadow:
        inset 0 0 40px rgba(0, 0, 0, 0.7),
        0 0 40px rgba(143, 211, 244, 0.25);
    }

    .map-wrapper svg {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
    }

    .island-outline {
      fill: #101c28;
      stroke: rgba(143, 211, 244, 0.4);
      stroke-width: 1.2;
      filter: drop-shadow(0 0 16px rgba(5, 180, 255, 0.22));
    }

    .glacier {
      fill: #dbe7f2;
      fill-opacity: 0.9;
      stroke: rgba(34, 69, 103, 0.9);
      stroke-width: 0.8;
      cursor: pointer;
      transition:
        fill 1.2s ease,
        fill-opacity 1.2s ease,
        transform 0.3s ease,
        filter 1.2s ease;
    }

    .glacier:hover {
      fill-opacity: 1;
      transform: translateY(-1px);
      filter: drop-shadow(0 0 10px rgba(184, 236, 255, 0.7));
    }

    .glacier.found {
      fill: url(#glacierGradient);
      fill-opacity: 1;
      filter:
        drop-shadow(0 0 18px rgba(143, 211, 244, 0.95))
        drop-shadow(0 0 48px rgba(143, 211, 244, 0.5));
    }

    .glacier.shake {
      animation: shake 0.55s ease;
      transform-origin: center;
    }

    @keyframes shake {
      10% { transform: translateX(-2px); }
      20% { transform: translateX(2px); }
      30% { transform: translateX(-2px); }
      40% { transform: translateX(2px); }
      50% { transform: translateX(-1px); }
      60% { transform: translateX(1px); }
      70% { transform: translateX(0); }
    }

    .status {
      font-size: 0.9rem;
      color: var(--muted);
      min-height: 1.2em;
    }

    .status.ok {
      color: #7ce38b;
    }

    .status.err {
      color: var(--error);
    }

    .legend-title {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: var(--muted);
    }

    .legend-list {
      list-style: none;
      padding: 0;
      margin: 4px 0 0;
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 0.9rem;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
      color: var(--muted);
    }

    .legend-dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: linear-gradient(135deg, #c6e7ff, #8fd3f4);
      opacity: 0.3;
      transition: opacity 0.4s ease;
    }

    .legend-item.found .legend-dot {
      opacity: 1;
      box-shadow: 0 0 8px rgba(143, 211, 244, 0.8);
    }

    .legend-item span.name {
      flex: 1;
    }

    .legend-item span.state {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .legend-item.found span.state {
      color: #7ce38b;
    }

    .legend-item:not(.found) span.state {
      color: var(--muted);
    }

    .controls {
      margin-top: 8px;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    button {
      border-radius: 999px;
      border: 1px solid rgba(143, 211, 244, 0.6);
      background: radial-gradient(circle at top, rgba(184, 236, 255, 0.22), rgba(2, 9, 16, 0.98));
      color: var(--accent-soft);
      padding: 6px 14px;
      font-size: 0.85rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition:
        background 0.3s ease,
        transform 0.15s ease,
        box-shadow 0.3s ease,
        border-color 0.3s ease;
    }

    button:hover {
      background: radial-gradient(circle at top, rgba(184, 236, 255, 0.32), rgba(3, 10, 18, 0.98));
      box-shadow: 0 0 18px rgba(143, 211, 244, 0.6);
      transform: translateY(-1px);
    }

    button:active {
      transform: translateY(0);
      box-shadow: 0 0 10px rgba(143, 211, 244, 0.4);
    }

    .hint {
      font-size: 0.8rem;
      color: var(--muted);
      margin-top: 2px;
    }

    footer {
      margin-top: 4px;
      font-size: 0.75rem;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
    }

    @media (max-width: 640px) {
      .app {
        padding: 16px 14px 18px;
      }
      h1 {
        font-size: 1.1rem;
      }
      .prompt-text {
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="title-block">
        <h1>Giska√∞u √° j√∂klana</h1>
        <p class="subtitle">Smelltu √° r√©ttan j√∂kul √° √çslandskortinu.</p>
      </div>
      <div class="tag">√≠s.is ¬∑ pr√≥t√≥t√Ωpa</div>
    </header>

    <div class="main">
      <section class="map-card">
        <div class="prompt-label">N√∫verandi verkefni</div>
        <div class="prompt-text">
          <span id="prompt-prefix">Finndu:</span>
          <span id="prompt-target" class="target">‚Äî</span>
        </div>

        <div class="map-wrapper">
          <!-- √çsland + j√∂klar ‚Äì st√≠l√≠sera√∞ kort me√∞ j√∂klum √° r√©ttri legu -->
          <svg viewBox="0 0 100 70" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <!-- Ice gradient, h√¶g og mj√∫k -->
              <linearGradient id="glacierGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#c6e7ff"/>
                <stop offset="50%" stop-color="#8fd3f4"/>
                <stop offset="100%" stop-color="#5aa9dd"/>
              </linearGradient>
            </defs>

            <!-- √çsland-outline (st√≠l√≠sera√∞ en √çSLAND-laga) -->
            <path
              class="island-outline"
              d="M7,40
                 C6,33 9,24 16,19
                 C23,14 33,10 44,9
                 C55,8 66,11 76,17
                 C84,22 90,29 92,37
                 C94,45 91,53 84,59
                 C76,65 65,68 54,68
                 C43,68 33,65 24,59
                 C17,55 10,48 7,40 Z" />

            <!-- Vatnaj√∂kull ‚Äì st√≥r su√∞austur -->
            <path
              class="glacier"
              data-id="vatnajokull"
              d="M55,42
                 C60,40 67,39 73,40.5
                 C77,41.5 80.5,43.5 82,45.8
                 C83.5,48.1 83.7,51.2 82.2,53.4
                 C80,56.7 74.5,59 68,59.5
                 C61.5,60 55.5,58.8 51,56.8
                 C48,55.5 45.7,53.6 44.6,51.5
                 C43.5,49.4 43.6,46.6 44.9,44.7
                 C47,41.7 51,43.2 55,42 Z" />

            <!-- Langj√∂kull ‚Äì vestan vi√∞ mi√∞ju, nor√∞arlega -->
            <path
              class="glacier"
              data-id="langjokull"
              d="M38,30
                 C41,29 45,28.7 48.5,29.2
                 C50.7,29.5 52.8,30.3 54.2,31.5
                 C55.6,32.7 56.4,34.4 56.2,36
                 C55.9,38.1 54.5,39.9 52.4,41
                 C50.3,42.1 47.3,42.7 44.5,42.3
                 C41.7,41.9 39.3,40.7 37.9,39.2
                 C36.8,38 36.1,36.5 36.2,35
                 C36.4,33.2 37.4,31.4 38,30 Z" />

            <!-- Hofsj√∂kull ‚Äì mi√∞h√°lendi, a√∞eins austar en Langj√∂kull -->
            <path
              class="glacier"
              data-id="hofsjokull"
              d="M47,34.5
                 C49.5,33.5 52.5,33.4 55,33.9
                 C56.6,34.3 58,35.2 59,36.3
                 C60,37.4 60.5,38.9 60.2,40.2
                 C59.8,42.1 58.3,43.7 56.3,44.7
                 C54.3,45.7 51.7,46.1 49.4,45.8
                 C47.1,45.5 45.1,44.6 43.8,43.3
                 C42.5,42 41.9,40.4 42.2,39
                 C42.5,37.6 43.6,35.8 45,35
                 C45.7,34.6 46.3,34.7 47,34.5 Z" />

            <!-- M√Ωrdalsj√∂kull ‚Äì su√∞ur, vi√∞ mi√∞-su√∞austur -->
            <path
              class="glacier"
              data-id="myrdalsjokull"
              d="M50,51
                 C53,49.8 56.8,49.5 60,49.8
                 C62.2,50 64.4,50.7 66,51.8
                 C67.6,52.9 68.6,54.5 68.6,56
                 C68.6,57.5 67.8,59 66.4,60.1
                 C64.1,62 60,63 56.2,62.8
                 C52.4,62.6 48.9,61.3 46.6,59.7
                 C45,58.5 43.9,56.9 43.7,55.4
                 C43.5,53.9 44,52.2 45.1,51.3
                 C46.2,50.4 48,50.5 50,51 Z" />

            <!-- Eyjafjallaj√∂kull ‚Äì beint vestan vi√∞ M√Ωrdalsj√∂kul -->
            <path
              class="glacier"
              data-id="eyjafjallajokull"
              d="M42,50.5
                 C44.2,49.6 46.9,49.2 49.1,49.4
                 C50.7,49.6 52.2,50.1 53.3,50.9
                 C54.4,51.8 55.1,53.1 55.1,54.3
                 C55.1,55.5 54.6,56.8 53.5,57.8
                 C51.9,59.3 49.3,60.2 46.7,60.3
                 C44.1,60.4 41.7,59.7 40,58.7
                 C38.7,57.9 37.7,56.8 37.4,55.7
                 C37.1,54.5 37.4,53.1 38.3,52.1
                 C39.2,51.1 40.6,51 42,50.5 Z" />

            <!-- Drangaj√∂kull ‚Äì nor√∞vestur -->
            <path
              class="glacier"
              data-id="drangajokull"
              d="M22,26
                 C24.2,25 27.3,24.6 30,24.9
                 C31.9,25.1 33.8,25.7 35.1,26.6
                 C36.4,27.5 37.3,28.8 37.6,30.1
                 C38,31.8 37.6,33.6 36.5,35
                 C35.4,36.4 33.6,37.4 31.6,38
                 C29.5,38.6 27,38.7 25,38.1
                 C23,37.5 21.3,36.3 20.4,35.1
                 C19.6,33.9 19.3,32.4 19.6,31.1
                 C19.9,29.8 20.8,27.8 22,26 Z" />

            <!-- Sn√¶fellsj√∂kull ‚Äì vestur √° nesinu -->
            <path
              class="glacier"
              data-id="snaefellsjokull"
              d="M23,39.5
                 C24.6,38.7 26.6,38.3 28.4,38.4
                 C29.9,38.5 31.4,39 32.5,39.7
                 C33.6,40.4 34.3,41.4 34.6,42.4
                 C34.9,43.6 34.7,44.9 34,45.9
                 C33.1,47.2 31.5,48.2 29.7,48.7
                 C27.9,49.2 25.7,49.2 24,48.7
                 C22.3,48.2 20.9,47.3 20.1,46.3
                 C19.3,45.3 18.9,44.1 19.1,43.1
                 C19.4,41.9 20.2,40.7 21.5,40
                 C22.1,39.7 22.6,39.7 23,39.5 Z" />

          </svg>
        </div>

        <div id="status" class="status"></div>
      </section>

      <aside class="info-card">
        <div class="legend-title">J√∂klar √≠ leiknum</div>
        <ul class="legend-list" id="legend-list">
          <!-- fyllist √≠ JS -->
        </ul>

        <div class="controls">
          <button id="btn-restart" type="button">
            üîÑ Spila aftur
          </button>
          <button id="btn-randomize" type="button">
            üé≤ N√Ω r√∂√∞un
          </button>
        </div>

        <p class="hint">
          Smelltu √° j√∂klana til a√∞ finna √æ√° og litga √çsland upp √≠ √≠sbl√°um t√≥num.
        </p>
      </aside>
    </div>

    <footer>
      <span>Pr√≥t√≥t√Ωpa fyrir √≠s.is ‚Äì j√∂klaleik.</span>
      <span>Engar vafrak√∂kur, bara √≠s.</span>
    </footer>
  </div>

  <script>
    // ----------------------------
    // G√∂gn: j√∂klar (display-nafn + id sem tengist SVG data-id)
    // ----------------------------
    const JOKLAR = [
      { id: "vatnajokull", name: "Vatnaj√∂kull" },
      { id: "langjokull", name: "Langj√∂kull" },
      { id: "hofsjokull", name: "Hofsj√∂kull" },
      { id: "myrdalsjokull", name: "M√Ωrdalsj√∂kull" },
      { id: "eyjafjallajokull", name: "Eyjafjallaj√∂kull" },
      { id: "drangajokull", name: "Drangaj√∂kull" },
      { id: "snaefellsjokull", name: "Sn√¶fellsj√∂kull" }
    ];

    const promptTargetEl = document.getElementById("prompt-target");
    const statusEl = document.getElementById("status");
    const legendListEl = document.getElementById("legend-list");
    const btnRestart = document.getElementById("btn-restart");
    const btnRandom = document.getElementById("btn-randomize");

    const glacierPaths = Array.from(document.querySelectorAll(".glacier"));

    let order = [];
    let currentIndex = 0;
    let done = false;

    function shuffle(arr) {
      const a = arr.slice();
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    function resetGlaciers() {
      glacierPaths.forEach(p => {
        p.classList.remove("found", "shake");
      });
    }

    function rebuildLegend() {
      legendListEl.innerHTML = "";
      order.forEach((jokull, idx) => {
        const li = document.createElement("li");
        li.className = "legend-item";
        li.dataset.id = jokull.id;
        li.innerHTML = `
          <div class="legend-dot"></div>
          <span class="name">${idx + 1}. ${jokull.name}</span>
          <span class="state">√ìfundinn</span>
        `;
        legendListEl.appendChild(li);
      });
    }

    function updateLegendEntry(id, found) {
      const item = legendListEl.querySelector(\`.legend-item[data-id="\${id}"]\`);
      if (!item) return;
      if (found) {
        item.classList.add("found");
        const stateEl = item.querySelector(".state");
        if (stateEl) stateEl.textContent = "Fundinn";
      } else {
        item.classList.remove("found");
        const stateEl = item.querySelector(".state");
        if (stateEl) stateEl.textContent = "√ìfundinn";
      }
    }

    function setStatus(msg, type = "") {
      statusEl.textContent = msg || "";
      statusEl.classList.remove("ok", "err");
      if (type) statusEl.classList.add(type);
    }

    function setPrompt() {
      if (currentIndex >= order.length) {
        done = true;
        promptTargetEl.textContent = "Allir j√∂klar fundnir!";
        promptTargetEl.classList.remove("target");
        promptTargetEl.classList.add("done");
        setStatus("Vel gert! √û√∫ fannst alla j√∂klana. ‚ú®", "ok");
        return;
      }

      done = false;
      const current = order[currentIndex];
      promptTargetEl.textContent = current.name;
      promptTargetEl.classList.remove("done");
      promptTargetEl.classList.add("target");

      const remaining = order.length - currentIndex;
      setStatus(\`J√∂klar eftir: \${remaining}\`, "");
    }

    function initOrder(randomize = true) {
      order = randomize ? shuffle(JOKLAR) : JOKLAR.slice();
      currentIndex = 0;
      done = false;
      resetGlaciers();
      rebuildLegend();
      setPrompt();
    }

    function onGlacierClick(e) {
      const target = e.currentTarget;
      const clickedId = target.getAttribute("data-id");
      if (!clickedId || done) return;

      const current = order[currentIndex];
      if (!current) return;

      if (clickedId === current.id) {
        target.classList.remove("shake");
        target.classList.add("found");
        updateLegendEntry(clickedId, true);
        currentIndex++;
        setStatus("R√©tt! üëå", "ok");
        setPrompt();
      } else {
        target.classList.remove("shake");
        void target.offsetWidth; // force reflow til a√∞ endurr√¶sa animation
        target.classList.add("shake");
        setStatus("Ekki √æessi j√∂kull ‚Äì pr√≥fa√∞u annan. ‚ùÑÔ∏è", "err");
      }
    }

    glacierPaths.forEach(p => {
      p.addEventListener("click", onGlacierClick);
    });

    btnRestart.addEventListener("click", () => {
      initOrder(false);
    });

    btnRandom.addEventListener("click", () => {
      initOrder(true);
    });

    // Start
    initOrder(true);
  </script>
</body>
</html>