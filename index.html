<!DOCTYPE html>
<html lang="is">
<head>
  <meta charset="UTF-8" />
  <title>Giska√∞u √° j√∂klana ‚Äì √≠s.is</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #0a1722;
      --card: #101f2c;
      --accent: #8fd3f4;
      --accent-soft: #b8ecff;
      --text: #e6f4ff;
      --muted: #9bb3c9;
      --error: #ff6b6b;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #18324a 0, var(--bg) 50%, #050b10 100%);
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    .app {
      width: 100%;
      max-width: 960px;
      background: linear-gradient(145deg, rgba(16, 31, 44, 0.96), rgba(7, 14, 21, 0.98));
      border-radius: 18px;
      border: 1px solid rgba(143, 211, 244, 0.25);
      box-shadow:
        0 20px 60px rgba(0, 0, 0, 0.65),
        0 0 40px rgba(143, 211, 244, 0.18);
      padding: 20px 20px 24px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    .title-block {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    h1 {
      font-size: 1.4rem;
      margin: 0;
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }

    .subtitle {
      margin: 0;
      font-size: 0.9rem;
      color: var(--muted);
    }

    .tag {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid rgba(143, 211, 244, 0.4);
      background: radial-gradient(circle at top left, rgba(184, 236, 255, 0.2), rgba(8, 20, 30, 0.9));
      color: var(--accent-soft);
      white-space: nowrap;
    }

    .main {
      display: flex;
      gap: 18px;
      flex-wrap: wrap;
    }

    .map-card {
      flex: 2 1 280px;
      background: radial-gradient(circle at top, rgba(63, 120, 173, 0.18), rgba(9, 20, 32, 0.95));
      border-radius: 16px;
      padding: 12px 16px 16px;
      border: 1px solid rgba(143, 211, 244, 0.28);
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .info-card {
      flex: 1 1 220px;
      background: radial-gradient(circle at top, rgba(143, 211, 244, 0.08), rgba(3, 9, 15, 0.95));
      border-radius: 16px;
      padding: 12px 16px 16px;
      border: 1px solid rgba(143, 211, 244, 0.18);
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .prompt-label {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--muted);
    }

    .prompt-text {
      font-size: 1.1rem;
      font-weight: 600;
      display: flex;
      align-items: baseline;
      gap: 0.4em;
    }

    .prompt-text span.target {
      color: var(--accent-soft);
      text-shadow: 0 0 8px rgba(184, 236, 255, 0.6);
    }

    .prompt-text span.done {
      color: #7ce38b;
      text-shadow: 0 0 8px rgba(124, 227, 139, 0.7);
    }

    .map-wrapper {
      position: relative;
      width: 100%;
      padding-top: 70%; /* aspect ratio */
      border-radius: 14px;
      overflow: hidden;
      background: radial-gradient(circle at center, #1a2938 0, #09131f 55%, #050b12 100%);
      box-shadow:
        inset 0 0 40px rgba(0, 0, 0, 0.7),
        0 0 40px rgba(143, 211, 244, 0.25);
    }

    .map-wrapper svg {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
    }

    .island-outline {
      fill: #101c28;
      stroke: rgba(143, 211, 244, 0.4);
      stroke-width: 1.2;
      filter: drop-shadow(0 0 16px rgba(5, 180, 255, 0.22));
    }

    .glacier {
      fill: #dbe7f2;
      fill-opacity: 0.85;
      stroke: rgba(34, 69, 103, 0.9);
      stroke-width: 0.8;
      cursor: pointer;
      transition:
        fill 1.2s ease,
        fill-opacity 1.2s ease,
        transform 0.3s ease,
        filter 1.2s ease;
    }

    .glacier:hover {
      fill-opacity: 1;
      transform: translateY(-1px);
      filter: drop-shadow(0 0 10px rgba(184, 236, 255, 0.7));
    }

    .glacier.found {
      fill: url(#glacierGradient);
      fill-opacity: 1;
      filter:
        drop-shadow(0 0 18px rgba(143, 211, 244, 0.95))
        drop-shadow(0 0 48px rgba(143, 211, 244, 0.5));
    }

    .glacier.shake {
      animation: shake 0.55s ease;
      transform-origin: center;
    }

    @keyframes shake {
      10% { transform: translateX(-2px); }
      20% { transform: translateX(2px); }
      30% { transform: translateX(-2px); }
      40% { transform: translateX(2px); }
      50% { transform: translateX(-1px); }
      60% { transform: translateX(1px); }
      70% { transform: translateX(0); }
    }

    .status {
      font-size: 0.9rem;
      color: var(--muted);
      min-height: 1.2em;
    }

    .status.ok {
      color: #7ce38b;
    }

    .status.err {
      color: var(--error);
    }

    .legend-title {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: var(--muted);
    }

    .legend-list {
      list-style: none;
      padding: 0;
      margin: 4px 0 0;
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 0.9rem;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
      color: var(--muted);
    }

    .legend-dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: linear-gradient(135deg, #c6e7ff, #8fd3f4);
      opacity: 0.3;
      transition: opacity 0.4s ease;
    }

    .legend-item.found .legend-dot {
      opacity: 1;
      box-shadow: 0 0 8px rgba(143, 211, 244, 0.8);
    }

    .legend-item span.name {
      flex: 1;
    }

    .legend-item span.state {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .legend-item.found span.state {
      color: #7ce38b;
    }

    .legend-item:not(.found) span.state {
      color: var(--muted);
    }

    .controls {
      margin-top: 8px;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    button {
      border-radius: 999px;
      border: 1px solid rgba(143, 211, 244, 0.6);
      background: radial-gradient(circle at top, rgba(184, 236, 255, 0.22), rgba(2, 9, 16, 0.98));
      color: var(--accent-soft);
      padding: 6px 14px;
      font-size: 0.85rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition:
        background 0.3s ease,
        transform 0.15s ease,
        box-shadow 0.3s ease,
        border-color 0.3s ease;
    }

    button:hover {
      background: radial-gradient(circle at top, rgba(184, 236, 255, 0.32), rgba(3, 10, 18, 0.98));
      box-shadow: 0 0 18px rgba(143, 211, 244, 0.6);
      transform: translateY(-1px);
    }

    button:active {
      transform: translateY(0);
      box-shadow: 0 0 10px rgba(143, 211, 244, 0.4);
    }

    .hint {
      font-size: 0.8rem;
      color: var(--muted);
      margin-top: 2px;
    }

    footer {
      margin-top: 4px;
      font-size: 0.75rem;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
    }

    @media (max-width: 640px) {
      .app {
        padding: 16px 14px 18px;
      }
      h1 {
        font-size: 1.1rem;
      }
      .prompt-text {
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="title-block">
        <h1>Giska√∞u √° j√∂klana</h1>
        <p class="subtitle">Smelltu √° r√©ttan j√∂kul √° kortinu af √çslandi.</p>
      </div>
      <div class="tag">√≠s.is ¬∑ pr√≥t√≥t√Ωpa</div>
    </header>

    <div class="main">
      <section class="map-card">
        <div class="prompt-label">N√∫verandi verkefni</div>
        <div class="prompt-text">
          <span id="prompt-prefix">Finndu:</span>
          <span id="prompt-target" class="target">‚Äî</span>
        </div>

        <div class="map-wrapper">
          <!-- Schematic √çsland + j√∂klar (placeholder SVG) -->
          <svg viewBox="0 0 100 70" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <!-- Ice gradient, slooow & soft -->
              <linearGradient id="glacierGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#c6e7ff"/>
                <stop offset="50%" stop-color="#8fd3f4"/>
                <stop offset="100%" stop-color="#5aa9dd"/>
              </linearGradient>
            </defs>

            <!-- √çsland-outline (abstract, bara til a√∞ hafa eitthva√∞) -->
            <path
              class="island-outline"
              d="M10,40
                 C8,32 12,22 22,18
                 C30,14 40,10 52,12
                 C63,13 72,18 80,22
                 C88,27 92,34 90,42
                 C88,50 80,57 70,60
                 C60,63 50,64 40,63
                 C30,60 22,55 15,49
                 C11,46 10,44 10,40 Z" />

            <!-- J√∂klar ‚Äì abstract sv√¶√∞i, hvert me√∞ data-id -->
            <!-- Vatnaj√∂kull -->
            <path
              class="glacier"
              data-id="vatnajokull"
              d="M48,38
                 C53,36 60,36 66,38
                 C69,39.5 71,42 71,44
                 C71,46 70,48 68,49.5
                 C63,52 56,52 50,50
                 C47,49 45,47 45,44.5
                 C45,42.5 46,39.5 48,38 Z" />

            <!-- Langj√∂kull -->
            <path
              class="glacier"
              data-id="langjokull"
              d="M40,30
                 C43,29 48,29 52,30
                 C54,31 55.5,32.5 55.5,34
                 C55.5,35.5 54.5,37 53,38
                 C50,39.5 46,40 42.5,39
                 C40.5,38.3 39,37 38.7,35.4
                 C38.4,33.8 38.8,31.4 40,30 Z" />

            <!-- Hofsj√∂kull -->
            <path
              class="glacier"
              data-id="hofsjokull"
              d="M47,33.5
                 C48.8,32.8 51,32.7 52.8,33.2
                 C54,33.6 55,34.6 55.3,35.7
                 C55.6,36.8 55.4,38.2 54.5,39.1
                 C53,40.7 49.8,41.3 47.5,40.5
                 C46.2,40.1 45.2,39.2 44.7,38.1
                 C44.2,37 44.3,35.4 45.1,34.4
                 C45.6,33.8 46.3,33.6 47,33.5 Z" />

            <!-- M√Ωrdalsj√∂kull -->
            <path
              class="glacier"
              data-id="myrdalsjokull"
              d="M46,47
                 C49,46 52.5,46 55.5,46.5
                 C57.3,47 58.7,48 59.4,49.2
                 C60.1,50.4 60.1,52 59.3,53
                 C58,54.5 55.5,55.3 52.7,55.3
                 C49.9,55.3 47.2,54.6 45.4,53.5
                 C44.3,52.8 43.5,51.8 43.3,50.8
                 C43.1,49.8 43.5,48.4 44.4,47.6
                 C45,47.1 45.5,47.1 46,47 Z" />

            <!-- Eyjafjallaj√∂kull -->
            <path
              class="glacier"
              data-id="eyjafjallajokull"
              d="M38,48.5
                 C40,47.7 42.5,47.5 44.7,47.8
                 C46,48 47.3,48.6 48.1,49.4
                 C49.2,50.5 49.4,51.9 49,52.9
                 C48.3,54.6 46.3,55.8 44,56.1
                 C41.7,56.4 39.2,55.9 37.5,55
                 C36.4,54.4 35.5,53.5 35.1,52.6
                 C34.7,51.7 34.8,50.5 35.4,49.8
                 C36,49.1 37.1,48.9 38,48.5 Z" />

            <!-- Drangaj√∂kull -->
            <path
              class="glacier"
              data-id="drangajokull"
              d="M22,27
                 C24,26 27,25.7 29.7,26
                 C31.3,26.2 32.8,26.7 33.8,27.7
                 C34.8,28.7 35.4,30.2 35.2,31.5
                 C34.9,33.3 33.7,34.7 31.9,35.5
                 C30.1,36.3 27.7,36.5 25.5,36
                 C23.3,35.5 21.4,34.3 20.5,32.8
                 C19.8,31.7 19.7,30.2 20.2,29.2
                 C20.7,28.2 21.3,27.5 22,27 Z" />

            <!-- Sn√¶fellsj√∂kull -->
            <path
              class="glacier"
              data-id="snaefellsjokull"
              d="M26,38.5
                 C27.6,37.7 29.6,37.4 31.5,37.6
                 C32.8,37.8 34.1,38.4 34.9,39.3
                 C35.7,40.2 36,41.4 35.7,42.5
                 C35.3,44 34.1,45.3 32.4,46
                 C30.7,46.7 28.6,46.8 26.9,46.4
                 C25.2,46 23.8,45.1 23.1,44
                 C22.5,43 22.4,41.7 22.9,40.8
                 C23.5,39.8 24.5,39.1 26,38.5 Z" />

          </svg>
        </div>

        <div id="status" class="status"></div>
      </section>

      <aside class="info-card">
        <div class="legend-title">J√∂klar √≠ √æessum leik</div>
        <ul class="legend-list" id="legend-list">
          <!-- fyllist √≠ JS -->
        </ul>

        <div class="controls">
          <button id="btn-restart" type="button">
            üîÑ Spila aftur
          </button>
          <button id="btn-randomize" type="button">
            üé≤ N√Ωr r√∂√∞unarlisti
          </button>
        </div>

        <p class="hint">
          Protip: √ûetta er bara pr√≥t√≥t√Ωpa ‚Äì √æegar √æ√∫ ert s√°ttur me√∞ ‚Äûfeel‚Äú er
          h√¶gt a√∞ skipta SVG-inu √∫t fyrir n√°kv√¶mt √çslandskort me√∞ j√∂klal√∂gum.
        </p>
      </aside>
    </div>

    <footer>
      <span>Byggt sem pr√≥t√≥t√Ωpa fyrir √≠s.is ‚Äì j√∂klaleikur.</span>
      <span>Engar vafrak√∂kur, bara √≠s.</span>
    </footer>
  </div>

  <script>
    // ----------------------------
    // G√∂gn: j√∂klar (display-nafn + id sem tengist SVG data-id)
    // ----------------------------
    const JOKLAR = [
      { id: "vatnajokull", name: "Vatnaj√∂kull" },
      { id: "langjokull", name: "Langj√∂kull" },
      { id: "hofsjokull", name: "Hofsj√∂kull" },
      { id: "myrdalsjokull", name: "M√Ωrdalsj√∂kull" },
      { id: "eyjafjallajokull", name: "Eyjafjallaj√∂kull" },
      { id: "drangajokull", name: "Drangaj√∂kull" },
      { id: "snaefellsjokull", name: "Sn√¶fellsj√∂kull" }
    ];

    // HTML elements
    const promptTargetEl = document.getElementById("prompt-target");
    const statusEl = document.getElementById("status");
    const legendListEl = document.getElementById("legend-list");
    const btnRestart = document.getElementById("btn-restart");
    const btnRandom = document.getElementById("btn-randomize");

    const glacierPaths = Array.from(document.querySelectorAll(".glacier"));

    let order = [];
    let currentIndex = 0;
    let done = false;

    // Fisher-Yates shuffle
    function shuffle(arr) {
      const a = arr.slice();
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    function resetGlaciers() {
      glacierPaths.forEach(p => {
        p.classList.remove("found", "shake");
      });
    }

    function rebuildLegend() {
      legendListEl.innerHTML = "";
      order.forEach((jokull, idx) => {
        const li = document.createElement("li");
        li.className = "legend-item";
        li.dataset.id = jokull.id;
        li.innerHTML = `
          <div class="legend-dot"></div>
          <span class="name">${idx + 1}. ${jokull.name}</span>
          <span class="state">√ìfundinn</span>
        `;
        legendListEl.appendChild(li);
      });
    }

    function updateLegendEntry(id, found) {
      const item = legendListEl.querySelector(`.legend-item[data-id="${id}"]`);
      if (!item) return;
      if (found) {
        item.classList.add("found");
        const stateEl = item.querySelector(".state");
        if (stateEl) stateEl.textContent = "Fundinn";
      } else {
        item.classList.remove("found");
        const stateEl = item.querySelector(".state");
        if (stateEl) stateEl.textContent = "√ìfundinn";
      }
    }

    function setStatus(msg, type = "") {
      statusEl.textContent = msg || "";
      statusEl.classList.remove("ok", "err");
      if (type) statusEl.classList.add(type);
    }

    function setPrompt() {
      if (currentIndex >= order.length) {
        done = true;
        promptTargetEl.textContent = "Allir j√∂klar fundnir!";
        promptTargetEl.classList.remove("target");
        promptTargetEl.classList.add("done");
        setStatus("Vel gert! √û√∫ fannst alla j√∂klana √° kortinu. ‚ú®", "ok");
        return;
      }

      done = false;
      const current = order[currentIndex];
      promptTargetEl.textContent = current.name;
      promptTargetEl.classList.remove("done");
      promptTargetEl.classList.add("target");

      const remaining = order.length - currentIndex;
      setStatus(`J√∂klar eftir: ${remaining}`, "");
    }

    function initOrder(randomize = true) {
      order = randomize ? shuffle(JOKLAR) : JOKLAR.slice();
      currentIndex = 0;
      done = false;
      resetGlaciers();
      rebuildLegend();
      setPrompt();
    }

    function onGlacierClick(e) {
      const target = e.currentTarget;
      const clickedId = target.getAttribute("data-id");
      if (!clickedId || done) return;

      const current = order[currentIndex];
      if (!current) return;

      if (clickedId === current.id) {
        // R√©tt
        target.classList.remove("shake");
        target.classList.add("found");
        updateLegendEntry(clickedId, true);
        currentIndex++;
        setStatus("R√©tt! üëå", "ok");
        setPrompt();
      } else {
        // Rangt
        target.classList.remove("shake");
        void target.offsetWidth; // force reflow til a√∞ endurr√¶sa animation
        target.classList.add("shake");
        setStatus("Ekki √æessi j√∂kull ‚Äì pr√≥fa√∞u annan. ‚ùÑÔ∏è", "err");
      }
    }

    // Tengja click event √° alla "glacier" paths
    glacierPaths.forEach(p => {
      p.addEventListener("click", onGlacierClick);
    });

    // Hnappar
    btnRestart.addEventListener("click", () => {
      initOrder(false); // sama r√∂√∞ og √≠ JOKLAR
    });

    btnRandom.addEventListener("click", () => {
      initOrder(true); // n√Ω, random r√∂√∞
    });

    // Kick-off
    initOrder(true);
  </script>
</body>
</html>