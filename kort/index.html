<!DOCTYPE html>
<html lang="is" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ís.is — Kort</title>
  <meta name="description" content="Opinn, gagnsær og kökulaus kortavettvangur byggður á OpenStreetMap." />

  <!-- Favicons -->
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="icon" href="/favicon.png" sizes="32x32">
  <link rel="icon" href="/favicon.png" sizes="16x16">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <meta name="theme-color" content="#0b0c0f" id="metaThemeColor">

  <!-- prefs.js should run BEFORE paint (theme / prefs) -->
  <script src="/assets/js/prefs.js"></script>

  <!-- Shared CSS -->
  <link rel="stylesheet" href="/assets/css/base.css">
  <link rel="stylesheet" href="/assets/css/components.css">

  <!-- Page CSS -->
  <link rel="stylesheet" href="/assets/css/pages/kort.css">

  <!-- MapLibre CSS -->
  <link rel="stylesheet" href="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.css">
</head>

<body>
  <!-- Close / back to home -->
  <a class="kort-close" href="/" aria-label="Til forsíðu" title="Til forsíðu">×</a>

  <main class="kort-page">

    <!-- Header -->
    <header class="kort-head">
      <div class="kort-head-left">
        <h1 id="kort-title">Kort</h1>
        <p class="kort-sub">
          Kort byggt á OpenStreetMap. Engar kökur. Engin rekning. Allt gerist í augnablikinu.
        </p>
      </div>

      <!-- Search (mobile-friendly: submit on “Search/Go”) -->
      <form class="kort-search" id="kortSearchForm" role="search">
        <input
          id="kortSearch"
          name="q"
          type="search"
          placeholder="Leita að heimilisfangi eða stað…"
          autocomplete="off"
          aria-label="Leita á korti"
          enterkeyhint="search"
          inputmode="search"
        />
      </form>
    </header>

    <!-- Map container -->
    <section class="kort-card" aria-labelledby="kort-title">
      <div id="kort-map" class="kort-map" role="application" aria-label="Kort Íslands"></div>

      <div class="kort-foot">
        <span id="kortState" class="kort-state">—</span>

        <button class="kort-btn kort-btn-ghost" id="btnCopyState" type="button" title="Afrita miðju korts">
          Afrita staðsetningu
        </button>
      </div>
    </section>

  </main>

  <!-- Side panel (hamburger opens this) -->
  <aside id="kortPanel" class="kort-panel" aria-hidden="true">
    <div class="kort-panel-head">
      <div class="kort-panel-title">Valmynd</div>
      <button class="kort-panel-x" id="kortPanelClose" type="button" aria-label="Loka">×</button>
    </div>

    <div class="kort-panel-body">
      <div class="kort-panel-group">
        <div class="kort-panel-label">Hamur</div>
        <button class="kort-panel-item" type="button" data-mode="default">Venjulegt</button>
        <button class="kort-panel-item" type="button" data-mode="quiz_towns">Leikjahamur: giskaðu á bæi</button>
        <button class="kort-panel-item" type="button" data-mode="quiz_glaciers">Leikjahamur: giskaðu á jökla</button>
      </div>

      <div class="kort-panel-group">
        <div class="kort-panel-label">Viðmót</div>
        <button class="kort-panel-item" type="button" data-mode="wrecks">Skipsflök</button>
      </div>

      <p class="kort-panel-note">
        Hugmynd: allt hér er “modes”. Það gerir kerfið stækkanlegt án þess að rugla grunnkortið.
      </p>
    </div>
  </aside>

  <div id="kortPanelBackdrop" class="kort-panel-backdrop" hidden></div>

  <!-- MapLibre JS -->
  <script src="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.js"></script>

  <!-- Page JS (order matters) -->
  <script src="/assets/js/pages/kort.js" defer></script>
  <script src="/assets/js/pages/kort.controls.js" defer></script>
  <script src="/assets/js/pages/kort.search.js" defer></script>
  <script src="/assets/js/pages/kort.modes.js" defer></script>
  <script src="/assets/js/pages/kort.menu.js" defer></script>
</body>
</html>
