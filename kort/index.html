<!DOCTYPE html>
<html lang="is" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>√≠s.is ‚Äî Kort</title>
  <meta name="description" content="Opinn, gagns√¶r og k√∂kulaus kortavettvangur bygg√∞ur √° OpenStreetMap." />

  <!-- Favicons -->
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="icon" href="/favicon.png" sizes="32x32">
  <link rel="icon" href="/favicon.png" sizes="16x16">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <meta name="theme-color" content="#0b0c0f" id="metaThemeColor">

  <!-- prefs.js should run BEFORE paint (theme / prefs) -->
  <script src="/assets/js/prefs.js"></script>

  <!-- Shared CSS -->
  <link rel="stylesheet" href="/assets/css/base.css">
  <link rel="stylesheet" href="/assets/css/components.css">

  <!-- Page CSS -->
  <link rel="stylesheet" href="/assets/css/pages/kort.css">

  <!-- MapLibre CSS -->
  <link rel="stylesheet" href="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.css">
</head>

<body>
  <!-- Close / back to home -->
  <a class="kort-close" href="/" aria-label="Til fors√≠√∞u" title="Til fors√≠√∞u">√ó</a>

  <main class="kort-page">

    <!-- Header -->
    <header class="kort-head">
      <div class="kort-head-left">
        <h1 id="kort-title">√çsland</h1>
        <p class="kort-sub">
          Kort byggt √° OpenStreetMap.
        </p>
      </div>

    <!-- Search (mobile-friendly: submit on ‚ÄúSearch/Go‚Äù)
      <form class="kort-search" id="kortSearchForm" role="search">
        <input
          id="kortSearch"
          name="q"
          type="search"
          placeholder="Leita a√∞ heimilisfangi e√∞a sta√∞‚Ä¶"
          autocomplete="off"
          aria-label="Leita √° korti"
          enterkeyhint="search"
          inputmode="search"
        />
      </form> -->
    </header>

    <!-- Map container -->
    <section class="kort-card" aria-labelledby="kort-title">
      <div id="kort-map" class="kort-map" role="application" aria-label="Kort √çslands"></div>

      <div class="kort-foot">
        <div class="kort-foot-left">
        <!--  <button class="kort-btn kort-btn-ghost" id="btnCrosshair" type="button" aria-pressed="false" title="S√Ωna/fela mi√∞ju-kross">
            Crosshair
          </button>-->
      
          <span id="kortState" class="kort-state">‚Äî</span>
          <span id="kortAlt" class="kort-alt" hidden>h√¶√∞: ‚Äî</span>
        </div>
      
        <button class="kort-btn kort-btn-ghost" id="btnCopyState" type="button" title="Afrita mi√∞ju korts">
          Afrita sta√∞setningu
        </button>
      </div>
    </section>

  </main>

  <!-- Side panel (hamburger opens this) -->
  <aside id="kortPanel" class="kort-panel" aria-hidden="true">
  <div class="kort-panel-head">
    <div class="kort-panel-title">Valmynd</div>
    <button class="kort-panel-x" id="kortPanelClose" type="button" aria-label="Loka">√ó</button>
  </div>

  <div class="kort-panel-body">
    <!-- Accordion: Hamur -->
    <details class="kort-acc" data-acc>
      <summary class="kort-acc-sum">
        <span>Hamur</span>
        <span class="kort-acc-hint" id="kortHintMode">Venjulegt</span>
      </summary>
      <div class="kort-acc-box">
        <button class="kort-panel-item" type="button" data-mode="default">Venjulegt</button>
        <button class="kort-panel-item" type="button" data-mode="quiz_towns">Leikjahamur: giska√∞u √° b√¶i</button>
        <button class="kort-panel-item" type="button" data-mode="quiz_glaciers">Leikjahamur: giska√∞u √° j√∂kla</button>
        <button class="kort-panel-item" type="button" data-mode="wrecks">Skipsfl√∂k</button>
      </div>
    </details>

    <!-- Accordion: Vi√∞m√≥t -->
    <details class="kort-acc" data-acc>
      <summary class="kort-acc-sum">
        <span>Vi√∞m√≥t</span>
        <span class="kort-acc-hint">Stillingar</span>
      </summary>
      <div class="kort-acc-box">
        <button class="kort-panel-item" type="button" id="kortGoHome">S√Ωna allt √çsland (home)</button>
        <button class="kort-panel-item" type="button" id="kortUseLocation">Nota sta√∞setningu</button>
      </div>
    </details>

    <!-- Accordion: Kort-√∫tlit -->
    <details class="kort-acc" data-acc>
      <summary class="kort-acc-sum">
        <span>Kort-√∫tlit</span>
        <span class="kort-acc-hint" id="kortHintStyle">Street</span>
      </summary>
      <div class="kort-acc-box">
        <button class="kort-panel-item" type="button" data-style="street">Street (OSM)</button>
        <button class="kort-panel-item" type="button" data-style="light">Light</button>
        <button class="kort-panel-item" type="button" data-style="dark">Dark</button>
        <button class="kort-panel-item" type="button" data-style="topo">Topo</button>
        <button class="kort-panel-item" type="button" data-style="satellite">Satellite</button>
      </div>
    </details>

    <p class="kort-panel-note">
      Minni h√°va√∞i, meiri stj√≥rn. √ûetta er bara UI; ‚Äúmodes‚Äù halda √°fram a√∞ vera st√¶kkanleg.
    </p>
  </div>
</aside>

  <!-- Search overlay (opened by üîç control) -->
<div id="kortSearchOverlay" class="kort-search-ov" hidden aria-hidden="true">
  <div class="kort-search-ov-card" role="dialog" aria-label="Leita √° korti">
    <div class="kort-search-ov-head">
      <div class="kort-search-ov-title">Leit</div>
      <button id="kortSearchOvClose" class="kort-search-ov-x" type="button" aria-label="Loka">√ó</button>
    </div>

    <form class="kort-search kort-search-ov-form" id="kortSearchFormOv" role="search">
      <input
        id="kortSearchOv"
        name="q"
        type="search"
        placeholder="Leita a√∞ heimilisfangi e√∞a sta√∞‚Ä¶"
        autocomplete="off"
        aria-label="Leita √° korti"
        enterkeyhint="search"
        inputmode="search"
      />
    </form>

    <div class="kort-search-ov-hint">
      √ùttu √° Enter til a√∞ leita. Veldu ni√∞urst√∂√∞u ef fleiri en ein.
    </div>
  </div>
</div>


<div id="kortPanelBackdrop" class="kort-panel-backdrop" hidden></div>

  <!-- MapLibre JS -->
  <script src="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.js"></script>

 <!-- Page JS (order matters) -->
<script src="/assets/js/pages/kort.js" defer></script>

<!-- must run AFTER kort.js creates window.kortMap -->
<script src="/assets/js/pages/kort.styles.js" defer></script>

<!-- modules that attach to map -->
<script src="/assets/js/pages/kort.modes.js" defer></script>
<script src="/assets/js/pages/kort.routing.js" defer></script>
<script src="/assets/js/pages/kort.measure.js" defer></script>
<script src="/assets/js/pages/kort.crosshair.js" defer></script>

<!-- UI wiring -->
<script src="/assets/js/pages/kort.menu.js" defer></script>
<script src="/assets/js/pages/kort.search.overlay.js" defer></script>
<script src="/assets/js/pages/kort.search.js" defer></script>

<!-- controls LAST: notar allt h√©r a√∞ ofan -->
<script src="/assets/js/pages/kort.controls.js" defer></script>


</body>
</html>
