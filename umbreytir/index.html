<!DOCTYPE html>
<html lang="is" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ís.is — Umbreytir</title>

  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="icon" href="/favicon.png" sizes="32x32">
  <link rel="icon" href="/favicon.png" sizes="16x16">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <meta name="theme-color" content="#ffffff" id="metaThemeColor">

  <!-- Hard-set theme BEFORE CSS to avoid flash / mismatch -->
  <script>
    (function () {
      const t = localStorage.getItem("theme");
      const theme = (t === "light") ? "light" : "dark";
      document.documentElement.setAttribute("data-theme", theme);
      const meta = document.getElementById("metaThemeColor");
      if (meta) meta.setAttribute("content", theme === "light" ? "#ffffff" : "#0b0f14");
    })();
  </script>

  <script src="/assets/js/prefs.js"></script>

  <link rel="stylesheet" href="/assets/css/base.css">
  <link rel="stylesheet" href="/assets/css/components.css">
  <link rel="stylesheet" href="/assets/css/pages/umbreytir.css">
</head>

<body>
  <header class="page-header">
    <div class="brand">
      <a class="brand-link" href="/" aria-label="Fara á forsíðu">ís.is</a>
      <span class="brand-sep">·</span>
      <span class="brand-page">Umbreytir</span>
    </div>

    <nav class="top-nav" aria-label="Leiðsögn">
      <a class="nav-link" href="/frettir/">Fréttir</a>
      <a class="nav-link" href="/klukka/">Klukka</a>
      <a class="nav-link" href="/dagatal/">Dagatal</a>
      <a class="nav-link is-active" href="/umbreytir/">Umbreytir</a>
    </nav>
  </header>

  <main class="wrap">
    <section class="tool-card" aria-label="Umbreytir">
      <div class="tool-head">
        <h1 class="tool-title">Umbreyta einingum</h1>
      </div>

      <div class="tool-body">
        <!-- Flokkur -->
        <div class="row row-1">
          <label class="field">
            <span class="label">Flokkur</span>
            <select id="cat" class="control"></select>
          </label>
        </div>

        <!-- Gildi + Frá -->
        <div class="row row-pair">
          <label class="field">
            <span class="label">Gildi</span>
            <input id="fromVal" class="control mono" inputmode="decimal" autocomplete="off"
                   spellcheck="false" placeholder="t.d. 12,5" />
            <span class="hint">Þú mátt nota kommu eða punkt.</span>
          </label>

          <label class="field">
            <span class="label">Frá</span>
            <select id="fromUnit" class="control"></select>
          </label>
        </div>

        <!-- Millilína: Hreinsa | Afrita | Skipta (icon) -->
        <div class="mid-actions" aria-label="Aðgerðir">
          <button id="clearBtn" class="btn" type="button" title="Hreinsa">Hreinsa</button>

          <button id="copyBtn" class="btn" type="button" title="Afrita niðurstöðu">Afrita</button>

          <button id="swapBtn" class="btn icon" type="button" title="Víxla einingum" aria-label="Víxla einingum">
            <!-- Up/down arrows -->
            <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" focusable="false">
              <path d="M8 7l4-4 4 4M12 3v10" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M16 17l-4 4-4-4M12 21V11" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>

        <!-- Niðurstaða + Í -->
        <div class="row row-pair">
          <label class="field">
            <span class="label">Niðurstaða</span>
            <input id="toVal" class="control mono" readonly />
            <span class="hint" id="statusHint">—</span>
          </label>

          <label class="field">
            <span class="label">Í</span>
            <select id="toUnit" class="control"></select>
          </label>
        </div>

        <!-- Aukastafir stepper -->
        <div class="dp-row">
          <div class="dp-label">Aukastafir</div>
          <div class="dp-stepper" role="group" aria-label="Aukastafir">
            <button id="dpDec" class="btn icon" type="button" aria-label="Færri aukastafir" title="Færri">
              <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" focusable="false">
                <path d="M15 18l-6-6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>

            <span id="dpVal" class="dp-value mono" aria-live="polite">2</span>

            <button id="dpInc" class="btn icon" type="button" aria-label="Fleiri aukastafir" title="Fleiri">
              <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" focusable="false">
                <path d="M9 6l6 6-6 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
        </div>

        <div class="quick">
          <div class="quick-title">Flýtival</div>
          <div class="chips" id="chips"></div>
        </div>

        <details class="details">
          <summary>Útskýring</summary>
          <div class="details-body" id="explain">
            Veldu flokk, einingar og sláðu inn gildi.
          </div>
        </details>
      </div>
    </section>
  </main>

  <script src="/assets/js/pages/umbreytir.js"></script>
</body>
</html>