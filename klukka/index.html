<!DOCTYPE html>
<html lang="is" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ís.is — Klukka</title>

  <!-- Favicons -->
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="icon" href="/favicon.png" sizes="32x32">
  <link rel="icon" href="/favicon.png" sizes="16x16">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <!-- Theme ASAP (no flash) -->
  <script>
    (function(){
      const t = localStorage.getItem('theme');
      document.documentElement.setAttribute('data-theme', t === 'light' ? 'light' : 'dark');
    })();
  </script>

  <!-- Global -->
  <link rel="stylesheet" href="/assets/css/base.css">
  <link rel="stylesheet" href="/assets/css/components.css">

  <!-- Page only -->
  <link rel="stylesheet" href="/assets/css/pages/clock.css">
</head>

<body class="clock-page">
  <header class="clock-header">
    <div class="clock-hdr">
      <a class="clock-back" href="/" aria-label="Til baka">←</a>

      <div class="clock-hdr-center" aria-label="Dagsetning">
        <div class="clock-hdr-date" id="hdrDateTop">—</div>
        <div class="clock-hdr-weekday" id="hdrWeekday">—</div>
      </div>

      <div class="clock-menu-wrap">
        <button class="clock-menu-btn" id="menuBtn" aria-label="Valmynd">
          <div class="clock-burger" aria-hidden="true">
            <span></span><span></span><span></span>
          </div>
        </button>

        <div class="clock-dropdown" id="dropdown" role="menu" aria-label="Valmynd">
          <div class="clock-drop-row">
            <div class="clock-drop-label">Tímabelti</div>
            <select id="tzSelect" aria-label="Velja tímabelti"></select>
          </div>

          <div class="clock-drop-sep"></div>

          <div class="clock-drop-row">
            <div class="clock-toggle">
              <label for="themeToggle">Dark / Light</label>
              <input id="themeToggle" type="checkbox" aria-label="Skipta um þema">
            </div>
          </div>

          <div class="clock-drop-sep"></div>

          <div class="clock-drop-row">
            <button class="clock-drop-btn" id="setupBtn" type="button">
              Uppsetning <span id="setupChevron">▾</span>
            </button>

            <div class="clock-drop-sub" id="setupPanel">
              <div class="clock-row">
                <div class="clock-row-title">Tímasnið</div>
                <select id="timeFormat" aria-label="Tímasnið">
                  <option value="24">24h</option>
                  <option value="12">12h (AM/PM)</option>
                </select>
              </div>

              <div class="clock-drop-sep clock-mini-sep"></div>

              <div class="clock-toggle">
                <label for="showAnalog">Sýna analog</label>
                <input id="showAnalog" type="checkbox">
              </div>
              <div class="clock-toggle">
                <label for="showDigital">Sýna digital</label>
                <input id="showDigital" type="checkbox">
              </div>

              <div class="clock-drop-sep clock-mini-sep"></div>

              <button class="clock-drop-btn" id="analogBtn" type="button">
                Analog stillingar <span id="analogChevron">▾</span>
              </button>
              <div class="clock-drop-sub" id="analogPanel">
                <div class="clock-row">
                  <div class="clock-row-title">Hreyfing vísa</div>
                  <select id="handMode" aria-label="Hreyfing vísa">
                    <option value="smooth">Smooth</option>
                    <option value="tick">Tick</option>
                  </select>
                </div>

                <div class="clock-toggle">
                  <label for="showHourNums">Klst tölur</label>
                  <input id="showHourNums" type="checkbox">
                </div>

                <div class="clock-toggle">
                  <label for="showMinNums">Mínútur</label>
                  <input id="showMinNums" type="checkbox">
                </div>
              </div>

              <button class="clock-drop-btn" id="digitalBtn" type="button">
                Digital stillingar <span id="digitalChevron">▾</span>
              </button>
              <div class="clock-drop-sub" id="digitalPanel">
                <div class="clock-toggle">
                  <label for="sevenSeg">Seven-segment</label>
                  <input id="sevenSeg" type="checkbox">
                </div>

                <div class="clock-row">
                  <div class="clock-row-title">Litur</div>
                  <input type="color" id="digitColor" aria-label="Velja lit">
                </div>
              </div>
            </div>
          </div>

          <div class="clock-drop-sep"></div>

          <div class="clock-drop-row">
            <button class="clock-drop-btn" id="fsBtn" type="button">
              Fullscreen <span>⛶</span>
            </button>
          </div>
        </div>
      </div>

    </div>
  </header>

  <main class="clock-main">
    <div class="clock-wrap">
      <div class="clock-card">

        <div class="clock-digitalWrap" id="digitalWrap">
          <div class="clock-digitalTime" id="digitalTime">--:--:--</div>
        </div>

        <div class="clock-analogWrap" id="analogWrap">
          <div class="clock-analog" id="analogClock" aria-label="Analog klukka">
            <div class="clock-ticks" id="ticks"></div>
            <div class="clock-numbers" id="numbers"></div>
            <div class="clock-hand clock-hour" id="hHand"></div>
            <div class="clock-hand clock-min"  id="mHand"></div>
            <div class="clock-hand clock-sec"  id="sHand"></div>
            <div class="clock-center-dot"></div>
          </div>
        </div>

        <div class="clock-pill-row">
          <div class="clock-pill">
            <span class="clock-dot" id="syncDot"></span>
            <span class="clock-spinner" id="syncSpin" aria-hidden="true"></span>
            <span id="syncText">Tími: net</span>
          </div>
          <button class="clock-info-btn" id="infoBtn" aria-label="Upplýsingar">ⓘ</button>
        </div>

        <div class="clock-nerd" id="nerdBox" aria-live="polite">
          <div class="clock-kv"><b>Zone</b><span id="nTz">—</span></div>
          <div class="clock-kv"><b>Sync age</b><span id="nAge">—</span></div>
          <div class="clock-kv"><b>RTT</b><span id="nRtt">—</span></div>
          <div class="clock-kv"><b>Offset target</b><span id="nOffT">—</span></div>
          <div class="clock-kv"><b>Offset live</b><span id="nOff">—</span></div>
          <div class="clock-kv"><b>Drift</b><span id="nPpm">—</span></div>
          <div class="clock-kv"><b>Scale</b><span id="nScale">—</span></div>
          <div class="clock-kv"><b>Source</b><span id="nSrc">—</span></div>
        </div>

      </div>
    </div>
  </main>

  <script src="/assets/js/theme.js" defer></script>
  <script src="/assets/js/clock.js" defer></script>
</body>
</html>
